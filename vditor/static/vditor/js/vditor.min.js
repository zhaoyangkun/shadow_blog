/*!
 * Vditor v1.7.0 - A markdown editor written in TypeScript.
 *   
 * MIT License
 * 
 * Copyright (c) 2019 B3log 开源, b3log.org
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 * 
 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Vditor=t():e.Vditor=t()}(window,function(){return function(e){function t(t){for(var n,i,r=t[0],s=t[1],a=0,l=[];a<r.length;a++)i=r[a],o[i]&&l.push(o[i][0]),o[i]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);for(c&&c(t);l.length;)l.shift()()}var n={},o={"index.min":0};function i(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.e=function(e){var t=[],n=o[e];if(0!==n)if(n)t.push(n[2]);else{var r=new Promise(function(t,i){n=o[e]=[t,i]});t.push(n[2]=r);var s,a=document.createElement("script");a.charset="utf-8",a.timeout=120,i.nc&&a.setAttribute("nonce",i.nc),a.src=function(e){return i.p+""+({allEmoji:"allEmoji",echarts:"echarts","highlight.js":"highlight.js",katex:"katex","markdown-it":"markdown-it",mermaid:"mermaid",turndown:"turndown"}[e]||e)+".bundle.js"}(e);var c=new Error;s=function(t){a.onerror=a.onload=null,clearTimeout(l);var n=o[e];if(0!==n){if(n){var i=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;c.message="Loading chunk "+e+" failed.\n("+i+": "+r+")",c.name="ChunkLoadError",c.type=i,c.request=r,n[1](c)}o[e]=void 0}};var l=setTimeout(function(){s({type:"timeout",target:a})},12e4);a.onerror=a.onload=s,document.head.appendChild(a)}return Promise.all(t)},i.m=e,i.c=n,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="https://cdn.jsdelivr.net/npm/vditor@1.7.0/dist/",i.oe=function(e){throw console.error(e),e};var r=window.webpackJsonpVditor=window.webpackJsonpVditor||[],s=r.push.bind(r);r.push=t,r=r.slice();for(var a=0;a<r.length;a++)t(r[a]);var c=s;return i(i.s="./src/index.ts")}({"./src/assets/icons/bold.svg":function(e,t){e.exports='<svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 32 32" width=32px height=32px> <path d="M22.996 15.023c1.339-1.591 2.147-3.643 2.147-5.88 0-5.041-4.102-9.143-9.143-9.143h-11.429v32h13.714c5.041 0 9.143-4.102 9.143-9.143 0-3.32-1.779-6.232-4.433-7.834zM11.429 4.571h3.625c1.999 0 3.625 2.051 3.625 4.571s-1.626 4.571-3.625 4.571h-3.625v-9.143zM17.107 27.429h-5.679v-9.143h5.679c2.087 0 3.786 2.051 3.786 4.571s-1.698 4.571-3.786 4.571z"></path> </svg>'},"./src/assets/icons/both.svg":function(e,t){e.exports='<svg version=1.1 xmlns=http://www.w3.org/2000/svg width=32 height=32 viewBox="0 0 32 32"> <path d="M11.429 6.095h-9.905c-0.842 0-1.524 0.682-1.524 1.524v1.524c0 0.841 0.682 1.524 1.524 1.524h9.905c0.841 0 1.524-0.682 1.524-1.524v-1.524c0-0.842-0.682-1.524-1.524-1.524zM11.429 13.714h-9.905c-0.842 0-1.524 0.682-1.524 1.524v1.524c0 0.841 0.682 1.524 1.524 1.524h9.905c0.841 0 1.524-0.682 1.524-1.524v-1.524c0-0.841-0.682-1.524-1.524-1.524zM11.429 21.333h-9.905c-0.842 0-1.524 0.682-1.524 1.524v1.524c0 0.841 0.682 1.524 1.524 1.524h9.905c0.841 0 1.524-0.682 1.524-1.524v-1.524c0-0.841-0.682-1.524-1.524-1.524zM30.476 6.095h-12.952c-0.841 0-1.524 0.682-1.524 1.524v16.762c0 0.841 0.682 1.524 1.524 1.524h12.952c0.841 0 1.524-0.682 1.524-1.524v-16.762c0-0.841-0.682-1.524-1.524-1.524z"></path> </svg> '},"./src/assets/icons/check.svg":function(e,t){e.exports='<svg xmlns=http://www.w3.org/2000/svg width=32 height=32 viewBox="0 0 32 32"> <path d="M27.094 19.485v6.12c0 3.059-2.483 5.542-5.542 5.542h-16.010c-3.059 0-5.542-2.483-5.542-5.542v-16.010c0-3.059 2.483-5.542 5.542-5.542h16.010c0.769 0 1.54 0.154 2.251 0.481 0.174 0.077 0.308 0.25 0.346 0.443 0.039 0.211-0.019 0.404-0.174 0.558l-0.943 0.943c-0.115 0.115-0.289 0.193-0.443 0.193-0.058 0-0.115-0.019-0.174-0.039-0.289-0.077-0.578-0.115-0.866-0.115h-16.010c-1.693 0-3.079 1.386-3.079 3.079v16.010c0 1.693 1.386 3.079 3.079 3.079h16.010c1.693 0 3.079-1.386 3.079-3.079v-4.888c0-0.154 0.058-0.308 0.174-0.424l1.232-1.232c0.135-0.135 0.289-0.193 0.443-0.193 0.077 0 0.154 0.019 0.231 0.058 0.231 0.096 0.385 0.308 0.385 0.558zM31.54 10.076l-15.664 15.664c-0.615 0.615-1.578 0.615-2.194 0l-8.275-8.275c-0.615-0.615-0.615-1.578 0-2.194l2.116-2.116c0.615-0.615 1.578-0.615 2.194 0l5.060 5.060 12.451-12.451c0.615-0.615 1.578-0.615 2.194 0l2.116 2.116c0.615 0.615 0.615 1.578 0 2.194z"></path> </svg>'},"./src/assets/icons/code.svg":function(e,t){e.exports='<svg xmlns=http://www.w3.org/2000/svg width=32 height=32 viewBox="0 0 32 32"> <path d="M21.053 21.895l2.526 2.526 8.421-8.421-8.421-8.421-2.526 2.526 5.895 5.895z"></path> <path d="M10.947 10.105l-2.526-2.526-8.421 8.421 8.421 8.421 2.526-2.526-5.895-5.895z"></path> <path d="M17.613 6.487l1.828 0.499-5.052 18.527-1.828-0.499 5.052-18.527z"></path> </svg> '},"./src/assets/icons/contract.svg":function(e,t){e.exports='<svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 32 32" width=32px height=32px> <path d="M14 18v13l-5-5-6 6-3-3 6-6-5-5zM32 3l-6 6 5 5h-13v-13l5 5 6-6z"></path> </svg>'},"./src/assets/icons/copy.svg":function(e,t){e.exports='<svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 32 32" width=32px height=32px> <path d="M28.681 11.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-11.5c-1.379 0-2.5 1.121-2.5 2.5v23c0 1.378 1.121 2.5 2.5 2.5h19c1.378 0 2.5-1.122 2.5-2.5v-15.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 9.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268v0zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-19c-0.271 0-0.5-0.229-0.5-0.5v-23c0-0.271 0.229-0.5 0.5-0.5 0 0 11.499-0 11.5 0v7c0 0.552 0.448 1 1 1h7v15.5zM18.841 1.319c-1.612-1.182-2.393-1.319-2.841-1.319h-11.5c-1.378 0-2.5 1.121-2.5 2.5v23c0 1.207 0.86 2.217 2 2.45v-25.45c0-0.271 0.229-0.5 0.5-0.5h15.215c-0.301-0.248-0.595-0.477-0.873-0.681z"></path> </svg>'},"./src/assets/icons/emoji.svg":function(e,t){e.exports='<svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 32 32" width=32px height=32px> <path d="M16 24.789c-3.756 0-6.911-2.254-8.188-5.559h16.376c-1.277 3.305-4.432 5.559-8.188 5.559zM10.366 14.423c-1.352 0-2.404-1.052-2.404-2.404s1.052-2.404 2.404-2.404 2.404 1.052 2.404 2.404-1.052 2.404-2.404 2.404zM21.634 14.423c-1.352 0-2.404-1.052-2.404-2.404s1.052-2.404 2.404-2.404 2.404 1.052 2.404 2.404-1.052 2.404-2.404 2.404zM16 28.845c7.061 0 12.845-5.784 12.845-12.845s-5.784-12.845-12.845-12.845-12.845 5.784-12.845 12.845 5.784 12.845 12.845 12.845zM16 0c8.864 0 16 7.136 16 16s-7.136 16-16 16-16-7.136-16-16 7.136-16 16-16z"></path> </svg>'},"./src/assets/icons/fullscreen.svg":function(e,t){e.exports='<svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 32 32" width=32px height=32px> <path d="M32 0v13l-5-5-6 6-3-3 6-6-5-5zM14 21l-6 6 5 5h-13v-13l5 5 6-6z"></path> </svg>'},"./src/assets/icons/headings.svg":function(e,t){e.exports='<svg xmlns=http://www.w3.org/2000/svg width=32 height=32 viewBox="0 0 32 32"> <path d="M4.45 0h3.594c0.595 0 1.078 0.384 1.078 0.858v30.284c0 0.474-0.482 0.858-1.078 0.858h-3.594c-0.595 0-1.078-0.384-1.078-0.858v-30.284c-0-0.474 0.482-0.858 1.078-0.858zM23.888 0h3.673c0.59 0 1.068 0.384 1.068 0.858v30.284c0 0.474-0.478 0.858-1.068 0.858h-3.673c-0.59 0-1.068-0.384-1.068-0.858v-30.284c0-0.474 0.478-0.858 1.068-0.858z"></path> <path d="M25.069 14.167v3.667c0 0.589-0.384 1.065-0.858 1.065h-15.655c-0.474 0-0.858-0.477-0.858-1.065v-3.667c0-0.589 0.384-1.065 0.858-1.065h15.655c0.474 0 0.858 0.477 0.858 1.065z"></path> </svg> '},"./src/assets/icons/help.svg":function(e,t){e.exports='<svg xmlns=http://www.w3.org/2000/svg width=32 height=32 viewBox="0 0 32 32"> <path d="M19.652 25v6c0 0.55-0.45 1-1 1h-6c-0.55 0-1-0.45-1-1v-6c0-0.55 0.45-1 1-1h6c0.55 0 1 0.45 1 1zM27.552 10c0 4.75-3.225 6.575-5.6 7.9-1.475 0.85-2.4 2.575-2.4 3.3v0c0 0.55-0.425 1.2-1 1.2h-6c-0.55 0-0.9-0.85-0.9-1.4v-1.125c0-3.025 3-5.625 5.2-6.625 1.925-0.875 2.725-1.7 2.725-3.3 0-1.4-1.825-2.65-3.85-2.65-1.125 0-2.15 0.35-2.7 0.725-0.6 0.425-1.2 1.025-2.675 2.875-0.2 0.25-0.5 0.4-0.775 0.4-0.225 0-0.425-0.075-0.625-0.2l-4.1-3.125c-0.425-0.325-0.525-0.875-0.25-1.325 2.7-4.475 6.5-6.65 11.6-6.65 5.35 0 11.35 4.275 11.35 10z"></path> </svg> '},"./src/assets/icons/info.svg":function(e,t){e.exports='<svg xmlns=http://www.w3.org/2000/svg width=32 height=32 viewBox="0 0 32 32"> <path d="M23.273 27.636v2.909c0 0.795-0.659 1.455-1.455 1.455h-11.636c-0.795 0-1.455-0.659-1.455-1.455v-2.909c0-0.795 0.659-1.455 1.455-1.455h1.455v-8.727h-1.455c-0.795 0-1.455-0.659-1.455-1.455v-2.909c0-0.795 0.659-1.455 1.455-1.455h8.727c0.795 0 1.455 0.659 1.455 1.455v13.091h1.455c0.795 0 1.455 0.659 1.455 1.455zM20.364 1.455v4.364c0 0.795-0.659 1.455-1.455 1.455h-5.818c-0.795 0-1.455-0.659-1.455-1.455v-4.364c0-0.795 0.659-1.455 1.455-1.455h5.818c0.795 0 1.455 0.659 1.455 1.455z"></path> </svg> '},"./src/assets/icons/inline-code.svg":function(e,t){e.exports='<svg xmlns=http://www.w3.org/2000/svg width=32 height=32 viewBox="0 0 32 32"> <path d="M18.133 23.467l3.2 3.2 10.667-10.667-10.667-10.667-3.2 3.2 7.467 7.467z"></path> <path d="M13.867 8.533l-3.2-3.2-10.667 10.667 10.667 10.667 3.2-3.2-7.467-7.467z"></path> </svg> '},"./src/assets/icons/italic.svg":function(e,t){e.exports='<svg xmlns=http://www.w3.org/2000/svg width=32 height=32 viewBox="0 0 32 32"> <path d="M29.714 0v2.286h-4.571l-11.429 27.429h4.571v2.286h-16v-2.286h4.571l11.429-27.429h-4.571v-2.286z"></path> </svg>'},"./src/assets/icons/line.svg":function(e,t){e.exports='<svg xmlns=http://www.w3.org/2000/svg width=32 height=32 viewBox="0 0 32 32"> <path d="M31.68 14.56h-31.36c-0.176 0-0.32 0.144-0.32 0.32v2.24c0 0.176 0.144 0.32 0.32 0.32h31.36c0.176 0 0.32-0.144 0.32-0.32v-2.24c0-0.176-0.144-0.32-0.32-0.32z"></path> </svg> '},"./src/assets/icons/link.svg":function(e,t){e.exports='<svg xmlns=http://www.w3.org/2000/svg width=32 height=32 viewBox="0 0 32 32"> <path d="M29.187 2.933l-0.12-0.121c-2.813-2.812-7.415-2.812-10.228 0l-6.516 6.517c-2.812 2.812-2.812 7.415 0 10.227l0.12 0.12c0.234 0.234 0.482 0.446 0.739 0.641l2.386-2.386c-0.278-0.164-0.542-0.361-0.78-0.599l-0.121-0.121c-1.527-1.527-1.527-4.012 0-5.539l6.517-6.516c1.527-1.527 4.012-1.527 5.539 0l0.121 0.12c1.527 1.527 1.527 4.012 0 5.539l-2.948 2.948c0.512 1.264 0.754 2.611 0.733 3.955l4.559-4.559c2.812-2.812 2.812-7.415-0-10.227zM19.557 12.323c-0.234-0.234-0.482-0.446-0.739-0.641l-2.386 2.385c0.278 0.164 0.542 0.361 0.78 0.599l0.121 0.121c1.527 1.527 1.527 4.012 0 5.539l-6.517 6.517c-1.527 1.527-4.012 1.527-5.539 0l-0.121-0.121c-1.527-1.527-1.527-4.012 0-5.539l2.948-2.948c-0.512-1.264-0.754-2.611-0.733-3.955l-4.559 4.559c-2.812 2.812-2.812 7.415 0 10.228l0.12 0.12c2.813 2.812 7.415 2.812 10.228 0l6.516-6.517c2.812-2.812 2.812-7.415 0-10.228l-0.12-0.12z"></path> </svg>'},"./src/assets/icons/list.svg":function(e,t){e.exports='<svg xmlns=http://www.w3.org/2000/svg width=32 height=32 viewBox="0 0 32 32"> <path d="M12 2h20v4h-20v-4zM12 14h20v4h-20v-4zM12 26h20v4h-20v-4zM0 4c0 2.209 1.791 4 4 4s4-1.791 4-4c0-2.209-1.791-4-4-4s-4 1.791-4 4zM0 16c0 2.209 1.791 4 4 4s4-1.791 4-4c0-2.209-1.791-4-4-4s-4 1.791-4 4zM0 28c0 2.209 1.791 4 4 4s4-1.791 4-4c0-2.209-1.791-4-4-4s-4 1.791-4 4z"></path> </svg>'},"./src/assets/icons/ordered-list.svg":function(e,t){e.exports='<svg xmlns=http://www.w3.org/2000/svg width=32 height=32 viewBox="0 0 32 32"> <path d="M11 26h20v4h-20zM11 14h20v4h-20zM11 2h20v4h-20zM5 0v8h-2v-6h-2v-2zM3 16.438v1.563h4v2h-6v-4.563l4-1.875v-1.563h-4v-2h6v4.563zM7 22v10h-6v-2h4v-2h-4v-2h4v-2h-4v-2z"></path> </svg>'},"./src/assets/icons/preview.svg":function(e,t){e.exports='<svg xmlns=http://www.w3.org/2000/svg width=32 height=32 viewBox="0 0 32 32"> <path d="M0 16c3.037-5.864 9.058-9.802 16-9.802s12.963 3.938 15.953 9.703l0.047 0.1c-3.037 5.864-9.058 9.802-16 9.802s-12.963-3.938-15.953-9.703l-0.047-0.1zM16 22.531c3.607 0 6.531-2.924 6.531-6.531s-2.924-6.531-6.531-6.531v0c-3.607 0-6.531 2.924-6.531 6.531s2.924 6.531 6.531 6.531v0zM16 19.265c-1.804 0-3.265-1.461-3.265-3.265s1.461-3.265 3.265-3.265v0c1.804 0 3.265 1.461 3.265 3.265s-1.461 3.265-3.265 3.265v0z"></path> </svg> '},"./src/assets/icons/quote.svg":function(e,t){e.exports='<svg xmlns=http://www.w3.org/2000/svg width=32 height=32 viewBox="0 0 32 32"> <path d="M7.024 13.003c3.862 0 6.993 3.131 6.993 6.993s-3.131 6.993-6.993 6.993-6.993-3.131-6.993-6.993l-0.031-0.999c0-7.724 6.262-13.986 13.986-13.986v3.996c-2.668 0-5.177 1.039-7.064 2.926-0.363 0.363-0.695 0.75-0.994 1.156 0.357-0.056 0.723-0.086 1.096-0.086zM25.007 13.003c3.862 0 6.993 3.131 6.993 6.993s-3.131 6.993-6.993 6.993-6.993-3.131-6.993-6.993l-0.031-0.999c0-7.724 6.262-13.986 13.986-13.986v3.996c-2.668 0-5.177 1.039-7.064 2.926-0.363 0.363-0.695 0.75-0.994 1.156 0.357-0.056 0.723-0.086 1.096-0.086z"></path> </svg>'},"./src/assets/icons/record.svg":function(e,t){e.exports='<svg xmlns=http://www.w3.org/2000/svg width=32 height=32 viewBox="0 0 32 32"> <path d="M4.571 16c0 6.312 5.117 11.429 11.429 11.429s11.429-5.117 11.429-11.429v0c0-6.312-5.117-11.429-11.429-11.429s-11.429 5.117-11.429 11.429v0z"></path> <path d="M16 30.857c-8.229 0-14.933-6.705-14.933-14.933s6.705-14.933 14.933-14.933 15.010 6.705 15.010 15.010c0 8.152-6.705 14.857-15.010 14.857zM16 0c-8.838 0-16 7.162-16 16s7.162 16 16 16 16-7.162 16-16-7.162-16-16-16z"></path> </svg> '},"./src/assets/icons/redo.svg":function(e,t){e.exports='<svg xmlns=http://www.w3.org/2000/svg width=32 height=32 viewBox="0 0 32 32"> <path d="M19.583 9.75q-8.667 1.25-13.375 6.625t-6.208 12.958q6.417-9.083 19.583-9.083v7.25l12.417-12.417-12.417-12.417v7.083z"></path> </svg>'},"./src/assets/icons/resize.svg":function(e,t){e.exports='<svg xmlns=http://www.w3.org/2000/svg width=128 height=32 viewBox="0 0 128 32"> <path d="M0 0h128v6.4h-128zM0 12.8h128v6.4h-128zM0 25.6h128v6.4h-128z"></path> </svg>'},"./src/assets/icons/strike.svg":function(e,t){e.exports='<svg xmlns=http://www.w3.org/2000/svg width=32 height=32 viewBox="0 0 32 32"> <path d="M32 16v2h-7.328c0.86 1.203 1.328 2.584 1.328 4 0 2.215-1.146 4.345-3.143 5.843-1.855 1.391-4.29 2.157-6.857 2.157s-5.002-0.766-6.857-2.157c-1.998-1.498-3.143-3.628-3.143-5.843h4c0 2.168 2.748 4 6 4s6-1.832 6-4c0-2.168-2.748-4-6-4h-16v-2h9.36c-0.073-0.052-0.146-0.104-0.217-0.157-1.998-1.498-3.143-3.628-3.143-5.843s1.146-4.345 3.143-5.843c1.855-1.391 4.29-2.157 6.857-2.157s5.002 0.766 6.857 2.157c1.997 1.498 3.143 3.628 3.143 5.843h-4c0-2.168-2.748-4-6-4s-6 1.832-6 4c0 2.168 2.748 4 6 4 2.468 0 4.814 0.709 6.64 2h9.36z"></path> </svg> '},"./src/assets/icons/table.svg":function(e,t){e.exports='<svg xmlns=http://www.w3.org/2000/svg width=32 height=32 viewBox="0 0 32 32"> <path d="M9.846 26.462v-3.692c0-0.346-0.269-0.615-0.615-0.615h-6.154c-0.346 0-0.615 0.269-0.615 0.615v3.692c0 0.346 0.269 0.615 0.615 0.615h6.154c0.346 0 0.615-0.269 0.615-0.615zM9.846 19.077v-3.692c0-0.346-0.269-0.615-0.615-0.615h-6.154c-0.346 0-0.615 0.269-0.615 0.615v3.692c0 0.346 0.269 0.615 0.615 0.615h6.154c0.346 0 0.615-0.269 0.615-0.615zM19.692 26.462v-3.692c0-0.346-0.269-0.615-0.615-0.615h-6.154c-0.346 0-0.615 0.269-0.615 0.615v3.692c0 0.346 0.269 0.615 0.615 0.615h6.154c0.346 0 0.615-0.269 0.615-0.615zM9.846 11.692v-3.692c0-0.346-0.269-0.615-0.615-0.615h-6.154c-0.346 0-0.615 0.269-0.615 0.615v3.692c0 0.346 0.269 0.615 0.615 0.615h6.154c0.346 0 0.615-0.269 0.615-0.615zM19.692 19.077v-3.692c0-0.346-0.269-0.615-0.615-0.615h-6.154c-0.346 0-0.615 0.269-0.615 0.615v3.692c0 0.346 0.269 0.615 0.615 0.615h6.154c0.346 0 0.615-0.269 0.615-0.615zM29.538 26.462v-3.692c0-0.346-0.269-0.615-0.615-0.615h-6.154c-0.346 0-0.615 0.269-0.615 0.615v3.692c0 0.346 0.269 0.615 0.615 0.615h6.154c0.346 0 0.615-0.269 0.615-0.615zM19.692 11.692v-3.692c0-0.346-0.269-0.615-0.615-0.615h-6.154c-0.346 0-0.615 0.269-0.615 0.615v3.692c0 0.346 0.269 0.615 0.615 0.615h6.154c0.346 0 0.615-0.269 0.615-0.615zM29.538 19.077v-3.692c0-0.346-0.269-0.615-0.615-0.615h-6.154c-0.346 0-0.615 0.269-0.615 0.615v3.692c0 0.346 0.269 0.615 0.615 0.615h6.154c0.346 0 0.615-0.269 0.615-0.615zM29.538 11.692v-3.692c0-0.346-0.269-0.615-0.615-0.615h-6.154c-0.346 0-0.615 0.269-0.615 0.615v3.692c0 0.346 0.269 0.615 0.615 0.615h6.154c0.346 0 0.615-0.269 0.615-0.615zM32 5.538v20.923c0 1.692-1.385 3.077-3.077 3.077h-25.846c-1.692 0-3.077-1.385-3.077-3.077v-20.923c0-1.692 1.385-3.077 3.077-3.077h25.846c1.692 0 3.077 1.385 3.077 3.077z"></path> </svg> '},"./src/assets/icons/undo.svg":function(e,t){e.exports='<svg xmlns=http://www.w3.org/2000/svg width=32 height=32 viewBox="0 0 32 32"> <path d="M12.417 9.75q8.667 1.25 13.375 6.625t6.208 12.958q-6.417-9.083-19.583-9.083v7.25l-12.417-12.417 12.417-12.417v7.083z"></path> </svg> '},"./src/assets/icons/upload.svg":function(e,t){e.exports='<svg xmlns=http://www.w3.org/2000/svg width=32 height=32 viewBox="0 0 32 32"> <path d="M21.334 16.532q0-0.233-0.15-0.384l-5.867-5.867q-0.15-0.15-0.384-0.15t-0.384 0.15l-5.85 5.85q-0.167 0.2-0.167 0.399 0 0.233 0.15 0.384t0.384 0.15h3.733v5.867q0 0.217 0.159 0.375t0.375 0.159h3.2q0.217 0 0.375-0.159t0.159-0.375v-5.867h3.734q0.217 0 0.375-0.159t0.159-0.375zM32 21.332q0 2.65-1.875 4.525t-4.525 1.875h-18.133q-3.083 0-5.275-2.192t-2.192-5.275q0-2.166 1.167-4t3.134-2.75q-0.034-0.5-0.034-0.717 0-3.533 2.5-6.033t6.033-2.5q2.6 0 4.759 1.45t3.142 3.849q1.184-1.033 2.767-1.033 1.767 0 3.017 1.25t1.25 3.017q0 1.267-0.683 2.3 2.166 0.516 3.558 2.258t1.392 3.975z"></path> </svg>'},"./src/index.ts":function(e,t,n){"use strict";n.r(t);var o,i="1.7.0",r="https://cdn.jsdelivr.net/npm",s=function(){function e(e){this.element=document.createElement("div"),this.element.className="vditor-counter",this.render(0,e.options.counter)}return e.prototype.render=function(e,t){this.element.className=e>t?"vditor-counter vditor-counter--error":"vditor-counter",this.element.innerHTML=e+"/"+t},e}(),a=function(e,t){return t.isEqualNode(e.commonAncestorContainer.parentElement)||t.isEqualNode(e.commonAncestorContainer)},c=function(e,t){if(a(e,t)){var n=document.createElement("div");return n.appendChild(e.cloneContents()),n.innerHTML.replace(/<br>/g,"\n").replace(/&nbsp;/g," ").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")}return""},l=function(e,t){var n=0,o=0,i=0;return Array.from(e).some(function(e,r){var s=e.textContent.length;if("BR"===e.nodeName&&(s=1),i+s>=t)return o="BR"===e.nodeName?0:t-i,n=r,!0;i+=s}),{node:e[n],offset:o}},d=function(e){var t=window.getSelection();t.removeAllRanges(),t.addRange(e)},p=function(e,t,n){n.setStart(e,t),d(n)},u=function(e,t){var n=0,o=0;if(Array.from(t).some(function(t,i){if(o=t.textContent.indexOf(e),3===t.nodeType&&o>-1)return n=i,!0}),!(o<0)){var i=document.createRange();i.setStart(t[n],o),i.setEnd(t[n],o+e.length),d(i)}},h=function(e){var t=e.replace(/</g,"&lt").replace(/>/g,"&gt").replace(/\n/g,"<br>").replace(/ /g,"&nbsp;");document.execCommand("insertHTML",!1,t)},f=function(e){return e.replace(/ /g," ")},v=function(e){var t=0;return e&&e.textContent&&(t=e.textContent.length),t},m=function(e,t,n){for(var o=t,i=n;0!==e&&o;)3===o.nodeType?0!==i&&""!==o.textContent?(i--,e--):(o=o.previousSibling,i=v(o),e--):"BR"===o.nodeName?(o=o.previousSibling,i=v(o),o&&3!==o.nodeType&&e--):(o=t.childNodes[n-1],i=v(o),e--);return{container:o,offset:i}},g=function(e,t,n){var o=m(e,t.startContainer,t.startOffset);o.container?"BR"===o.container.nodeName?t.setStartBefore(o.container):t.setStart(o.container,o.offset):n.childNodes.length>0&&t.setStartBefore(n.childNodes[0])},y=function(e,t,n,o,i){void 0===o&&(o=!1),void 0===i&&(i=!1);var r=window.getSelection().getRangeAt(0);if(a(r,e.editor.element)||(e.editor.range?r=e.editor.range:(e.editor.element.focus(),r=window.getSelection().getRangeAt(0))),d(r),r.collapsed||!r.collapsed&&o){h(t+n),r=window.getSelection().getRangeAt(0),n&&(g(n.length,r,e.editor.element),r.collapse(!0),d(r))}else{var s=c(r,e.editor.element);if(i){var l=!1,p=!1;if(3===r.startContainer.nodeType){if(t.lastIndexOf("\n")>-1&&r.startContainer.previousSibling&&r.startContainer.previousSibling.previousSibling){var u=r.startContainer.previousSibling.previousSibling.textContent;"BR"===r.startContainer.previousSibling.nodeName&&"```"===u.substring(u.length-3)&&(l=!0)}f(r.startContainer.textContent.substring(r.startOffset-t.length,r.startOffset))===t&&(l=!0)}else{if(t.lastIndexOf("\n")>-1&&r.startContainer.childNodes[r.startOffset-1]&&r.startContainer.childNodes[r.startOffset-2]){var v=r.startContainer.childNodes[r.startOffset-2].textContent;"BR"===r.startContainer.childNodes[r.startOffset-1].nodeName&&"```"===v.substring(v.length-3)&&(l=!0)}var y=r.startContainer.childNodes[Math.max(0,r.startOffset-1)].textContent;f(y.substring(y.length-n.length))===t&&(l=!0)}if(3===r.endContainer.nodeType){if(n.lastIndexOf("\n")>-1&&r.endContainer.nextSibling&&r.endContainer.nextSibling.nextSibling){var w=r.endContainer.nextSibling.nextSibling.textContent;"BR"===r.endContainer.nextSibling.nodeName&&"```"===w.substring(0,3)&&(p=!0)}f(r.endContainer.textContent.substring(r.endOffset,r.endOffset+n.length))===n&&(p=!0)}else{if(n.lastIndexOf("\n")>-1&&r.endContainer.childNodes[r.endOffset]&&r.endContainer.childNodes[r.endOffset+1]){var b=r.endContainer.childNodes[r.endOffset+1].textContent;"BR"===r.endContainer.childNodes[r.endOffset].nodeName&&"```"===b.substring(b.length-3)&&(p=!0)}var x=r.endContainer.childNodes[r.endOffset].textContent;f(x.substring(0,n.length))===n&&(p=!0)}l&&p&&(g(t.length,r,e.editor.element),function(e,t,n){var o=function(e,t,n){for(var o=t,i=n;0!==e&&o;)3===o.nodeType?i!==o.textContent.length&&""!==o.textContent?(i++,e--):(o=o.nextSibling,i=0,e--):"BR"===o.nodeName?(i=0,(o=o.nextSibling)&&3!==o.nodeType&&e--):(o=t.childNodes[n],i=0,e--);return{container:o,offset:i}}(e,t.endContainer,t.endOffset);o.container?"BR"===o.container.nodeName?t.setEndAfter(o.container):t.setEnd(o.container,o.offset):n.childNodes.length>0&&t.setEndBefore(n.lastChild)}(n.length,r,e.editor.element),t=n="")}h(t+s+n),r=window.getSelection().getRangeAt(0),g((s+n).length,r,e.editor.element),function(e,t,n){var o=m(e,t.endContainer,t.endOffset);o.container?"BR"===o.container.nodeName?t.setEndBefore(o.container):t.setEnd(o.container,o.offset):n.childNodes.length>0&&t.setEndBefore(n.childNodes[0])}(n.length,r,e.editor.element),d(r)}},w={vditorDelete:{filter:["del","s","strike"],replacement:function(e){return"~~"+e+"~~"}},vditorListItem:{filter:"li",replacement:function(e,t){e=e.replace(/^\n+/,"").replace(/\n+$/,"\n").replace(/\n/gm,"\n    ");var n="* ",o=t.parentNode;if("OL"===o.nodeName){var i=o.getAttribute("start"),r=Array.prototype.indexOf.call(o.children,t);n=(i?Number(i)+r:r+1)+". "}return n+e+(t.nextSibling&&!/\n$/.test(e)?"\n":"")}},vditorTableCell:{filter:["td","th"],replacement:function(e,t){return b(e,t)}},vditorTableSection:{filter:["thead","tbody","tfoot"],replacement:function(e){return e}},vditorTaskListItems:{filter:function(e){return"checkbox"===e.type&&"LI"===e.parentNode.nodeName},replacement:function(e,t){return(t.checked?"[x]":"[ ]")+" "}},vditorTr:{filter:"tr",replacement:function(e,t){var n,o="",i={left:":--",right:"--:",center:":-:"},r=t.parentNode;return"THEAD"!==r.nodeName&&"TH"!==t.nodeName||(n=r.parentNode.querySelectorAll("tbody > tr")[0]),"TABLE"!==r.nodeName||t.previousElementSibling||(n=t),n&&n.childNodes.forEach(function(e){var t=e.style.textAlign||e.getAttribute("align")||"";o+=b(i[t.toLowerCase()]||"---",e)}),"\n"+e+o}}},b=function(e,t){var n="| ",o=" |\n";return t.previousElementSibling&&(n=" "),t.nextElementSibling&&(o=" | "),n+e+o},x=function(e){Object.keys(w).forEach(function(t){e.addRule(t,w[t])})},_=function(e,t,n,o){return new(n||(n=Promise))(function(i,r){function s(e){try{c(o.next(e))}catch(e){r(e)}}function a(e){try{c(o.throw(e))}catch(e){r(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}c((o=o.apply(e,t||[])).next())})},E=function(e,t){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},O=function(e,t,o){return _(void 0,void 0,void 0,function(){var i,r,s,a,c;return E(this,function(l){switch(l.label){case 0:return[4,n.e("turndown").then(n.bind(null,"./node_modules/turndown/lib/turndown.es.js"))];case 1:return(i=l.sent().default).prototype.escape=function(e){return e},(r=new i({blankReplacement:function(e){return e},codeBlockStyle:"fenced",emDelimiter:"*",headingStyle:"atx",hr:"---"})).addRule("vditorImage",{filter:"img",replacement:function(t,n){if(!n.getAttribute("src"))return"";if(e.options.upload.linkToImgUrl&&o){var i=new XMLHttpRequest;i.open("POST",e.options.upload.linkToImgUrl),i.onreadystatechange=function(){if(i.readyState===XMLHttpRequest.DONE){var t=JSON.parse(i.responseText);if(200===i.status){if(0!==t.code)return void alert(t.msg);var n=t.data.originalURL;u(n,e.editor.element.childNodes),h(t.data.url)}else e.tip.show(t.msg)}},i.send(JSON.stringify({url:n.getAttribute("src")}))}return"!["+n.getAttribute("alt")+"]("+n.getAttribute("src")+")"}}),r.use(x),s=r.turndown(t),(a=document.createElement("div")).innerHTML=t,1!==(c=a.querySelectorAll("pre")).length||c[0].nextElementSibling||(!c[0].previousElementSibling||"META"!==c[0].previousElementSibling.tagName)&&c[0].previousElementSibling?[2,s]:[2,"```\n"+(o||t)+"\n```"]}})})},k={en_US:{bold:"Blod",both:"editor & preview",check:"Task List",code:"Code Block",copied:"Copied",copy:"Copy",emoji:"Emoji",fileTypeError:"file type is error",fullscreen:"Fullscreen",headings:"Headings",help:"Help",info:"Info","inline-code":"Inline Code",italic:"Italic",line:"Line",link:"Link",list:"List",nameEmpty:"Name is empty","ordered-list":"Order List",over:"over",performanceTip:"Real-time preview requires ${x}ms, you can close it",preview:"Preview",quote:"Quote",record:"Start Record/End Record",recording:"recording...",redo:"Redo",strike:"Strike",table:"Table",undo:"Undo",upload:"Upload image or file",uploading:"uploading..."},zh_CN:{bold:"粗体",both:"编辑 & 预览",check:"任务列表",code:"代码块",copied:"已复制",copy:"复制",emoji:"表情",fileTypeError:"文件类型不允许上传",fullscreen:"全屏",headings:"标题",help:"帮助",info:"关于","inline-code":"行内代码",italic:"斜体",line:"分隔线",link:"链接",list:"无序列表",nameEmpty:"文件名不能为空","ordered-list":"有序列表",over:"超过",performanceTip:"实时预览需 ${x}ms，可点击编辑 & 预览按钮进行关闭",preview:"预览",quote:"引用",record:"开始录音/结束录音",recording:"录音中...",redo:"重做",strike:"删除线",table:"表格",undo:"撤销",upload:"上传图片或文件",uploading:"上传中..."}},T=function(){return function(){this.isUploading=!1,this.element=document.createElement("div"),this.element.className="vditor-upload"}}(),M=function(e,t,n){for(var o,i=[],r=t.length,s=0;s<r;s++){var a=t[s];a instanceof DataTransferItem&&(a=a.getAsFile()),i.push(a)}if(e.options.upload.handler)return"string"==typeof(o=e.options.upload.handler(i))?void e.tip.show(o):void 0;if(!e.options.upload.url||!e.upload)return n&&(n.value=""),void alert("please config: options.upload.url");if(e.options.upload.validate&&"string"==typeof(o=e.options.upload.validate(i)))return void e.tip.show(o);var c=function(e,t){e.tip.hide();for(var n=[],o="",i="",r=e.options.lang,s=function(s,a){var c=t[a],l=!0;c.name||(o+="<li>"+k[r].nameEmpty+"</li>",l=!1),c.size>e.options.upload.max&&(o+="<li>"+c.name+" "+k[r].over+" "+e.options.upload.max/1024/1024+"M</li>",l=!1);var d=c.name.lastIndexOf("."),p=c.name.substr(d),u=e.options.upload.filename(c.name.substr(0,d))+p;if(e.options.upload.accept){var h=!1;e.options.upload.accept.split(",").forEach(function(e){var t=e.trim();0===t.indexOf(".")?p===t&&(h=!0):c.type.split("/")[0]===t.split("/")[0]&&(h=!0)}),h||(o+="<li>"+c.name+" "+k[r].fileTypeError+"</li>",l=!1)}l&&(n.push(c),i+=(-1===c.type.indexOf("image")?"":"!")+"["+u+"]("+k[r].uploading+")\n")},a=t.length,c=0;c<a;c++)s(0,c);return""!==o&&e.tip.show("<ul>"+o+"</ul>"),""!==i&&h(i),n}(e,i);if(0!==c.length){var l=new FormData;for(s=0,r=c.length;s<r;s++)l.append("file[]",c[s]);var d=new XMLHttpRequest;d.open("POST",e.options.upload.url),e.options.upload.token&&d.setRequestHeader("X-Upload-Token",e.options.upload.token),e.upload.isUploading=!0,e.editor.element.setAttribute("contenteditable","false"),d.onreadystatechange=function(){d.readyState===XMLHttpRequest.DONE&&(e.upload.isUploading=!1,n&&(n.value=""),e.editor.element.setAttribute("contenteditable","true"),200===d.status?e.options.upload.success?e.options.upload.success(e.editor.element,d.responseText):function(e,t,n){e.focus();var o=JSON.parse(t);1===o.code&&n.tip.show(o.msg),o.data.errFiles&&o.data.errFiles.forEach(function(t){var o=t.lastIndexOf("."),i="["+(n.options.upload.filename(t.substr(0,o))+t.substr(o))+"]("+k[n.options.lang].uploading+")";u(i,e.childNodes),h("")}),Object.keys(o.data.succMap).forEach(function(t){var i=o.data.succMap[t],r=t.lastIndexOf("."),s=n.options.upload.filename(t.substr(0,r))+t.substr(r),a="["+s+"]("+k[n.options.lang].uploading+")";if(i.indexOf(".wav")===i.length-4)return u(a,e.childNodes),void h('<audio controls="controls" src="'+i+'"></audio>\n');u(a,e.childNodes),h("["+s+"]("+i+")")})}(e.editor.element,d.responseText,e):e.options.upload.error?e.options.upload.error(d.responseText):(e.tip.show(d.responseText),document.execCommand("undo")),e.upload.element.style.display="none")},d.upload.onprogress=function(t){if(t.lengthComputable){var n=t.loaded/t.total*100;e.upload.element.style.display="block",e.upload.element.style.width=n+"%"}},d.send(l)}else n&&(n.value="")},C=function(e){e.options.counter>0&&e.counter.render(e.editor.element.innerText.length,e.options.counter),"function"==typeof e.options.input&&e.options.input(f(e.editor.element.innerText),e.preview&&e.preview.element),e.hint&&e.hint.render(),e.options.cache&&localStorage.setItem("vditor"+e.id,f(e.editor.element.innerText)),e.preview&&e.preview.render(e)},j=function(e,t,n,o){return new(n||(n=Promise))(function(i,r){function s(e){try{c(o.next(e))}catch(e){r(e)}}function a(e){try{c(o.throw(e))}catch(e){r(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}c((o=o.apply(e,t||[])).next())})},N=function(e,t){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},L=function(){function e(e){if(this.element=document.createElement("div"),this.element.className="vditor-textarea",this.element.setAttribute("placeholder",e.options.placeholder),this.element.setAttribute("contenteditable","true"),e.options.editorName&&this.element.setAttribute("name",e.options.editorName),e.options.cache){var t=localStorage.getItem("vditor"+e.id);t?this.element.innerText=t:this.setOriginal(e),e.options.counter>0&&e.counter.render(this.element.innerText.length,e.options.counter)}else this.setOriginal(e);this.bindEvent(e)}return e.prototype.setOriginal=function(e){return j(this,void 0,void 0,function(){var t;return N(this,function(n){switch(n.label){case 0:return e.originalInnerHTML.trim()?[4,O(e,e.originalInnerHTML)]:[2];case 1:return t=n.sent(),this.element.focus(),h(t),[2]}})})},e.prototype.bindEvent=function(e){var t=this;this.element.addEventListener("input",function(){C(e)}),this.element.addEventListener("focus",function(){(e.options.focus&&e.options.focus(f(t.element.innerText)),e.toolbar.elements.emoji&&e.toolbar.elements.emoji.children[1])&&(e.toolbar.elements.emoji.children[1].style.display="none");e.toolbar.elements.headings&&e.toolbar.elements.headings.children[1]&&(e.toolbar.elements.headings.children[1].style.display="none")}),this.element.addEventListener("blur",function(){t.range=window.getSelection().getRangeAt(0).cloneRange(),e.options.blur&&e.options.blur(f(t.element.innerText))}),e.options.select&&this.element.addEventListener("mouseup",function(){e.options.select(c(window.getSelection().getRangeAt(0),t.element))}),this.element.addEventListener("scroll",function(){if(e.preview||"vditor-preview vditor-preview--editor"!==e.preview.element.className&&"vditor-preview vditor-preview--preview"!==e.preview.element.className){var n=t.element.scrollTop,o=t.element.clientHeight,i=t.element.scrollHeight,r=e.preview.element;r.scrollTop=n/o>.5?(n+o)*r.scrollHeight/i-o:n*r.scrollHeight/i}}),(e.options.upload.url||e.options.upload.handler)&&this.element.addEventListener("drop",function(t){t.stopPropagation(),t.preventDefault();var n=t.dataTransfer.items;0!==n.length&&M(e,n)}),this.element.addEventListener("copy",function(e){return j(t,void 0,void 0,function(){return N(this,function(t){return e.stopPropagation(),e.preventDefault(),e.clipboardData.setData("text/plain",c(document.getSelection().getRangeAt(0),this.element)),[2]})})}),this.element.addEventListener("paste",function(n){return j(t,void 0,void 0,function(){var t,o,i;return N(this,function(r){switch(r.label){case 0:return t=n.clipboardData.getData("text/html"),o=n.clipboardData.getData("text/plain"),n.stopPropagation(),n.preventDefault(),""===t.trim()?[3,4]:t.length<106496&&t.replace(/<(|\/)(html|body|meta)[^>]*?>/gi,"").trim()!=='<a href="'+o+'">'+o+"</a>"&&t.replace(/<(|\/)(html|body|meta)[^>]*?>/gi,"").trim()!=='\x3c!--StartFragment--\x3e<a href="'+o+'">'+o+"</a>\x3c!--EndFragment--\x3e"?[3,1]:[3,3];case 1:return[4,O(e,t,o)];case 2:return i=r.sent(),h(i),[2];case 3:return[3,5];case 4:if(""!==o.trim()&&0===n.clipboardData.files.length);else if(n.clipboardData.files.length>0)return e.options.upload.url||e.options.upload.handler?(M(e,n.clipboardData.files),[2]):[2];r.label=5;case 5:return h(o),[2]}})})})},e}(),A=function(e){var t=e.parentElement.getBoundingClientRect(),n=window.getSelection().getRangeAt(0).getBoundingClientRect();return{left:n.left-t.left,top:n.top-t.top}},S=function(){function e(e){var t=this;this.fillEmoji=function(e){t.element.style.display="none";var n=e.getAttribute("data-value"),o=0===n.indexOf("@")?"@":":",i=window.getSelection().getRangeAt(0);a(i,t.vditor.editor.element)||(i=t.vditor.editor.range),p(i.startContainer,i.startContainer.textContent.substr(0,i.startOffset).lastIndexOf(o),i),h(n)},this.timeId=-1,this.vditor=e,this.element=document.createElement("ul"),this.element.className="vditor-hint",this.vditor.editor.element.parentElement.appendChild(this.element)}return e.prototype.render=function(){var e=this,t=window.getSelection().focusNode.textContent.substring(0,window.getSelection().anchorOffset),o=this.getKey(t,"@"),i=this.getKey(t,":");void 0===o&&void 0===i?(this.element.style.display="none",clearTimeout(this.timeId)):(void 0!==o&&this.vditor.options.hint.at&&(clearTimeout(this.timeId),this.timeId=window.setTimeout(function(){e.genHTML(e.vditor.options.hint.at(o),o)},this.vditor.options.hint.delay)),void 0!==i&&n.e("allEmoji").then(n.bind(null,"./src/ts/emoji/allEmoji.ts")).then(function(t){var n=""===i?e.vditor.options.hint.emoji:t.getAllEmoji(e.vditor.options.hint.emojiPath),o=[];Object.keys(n).forEach(function(e){0===e.indexOf(i.toLowerCase())&&(n[e].indexOf(".")>-1?o.push({html:'<img src="'+n[e]+'" title=":'+e+':"/> :'+e+":",value:":"+e+":"}):o.push({html:'<span class="vditor-hint__emoji">'+n[e]+"</span>"+e,value:n[e]}))}),e.genHTML(o,i)}).catch(function(e){console.error("Failed to load emoji",e)}))},e.prototype.getKey=function(e,t){String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")});var n,o=e.split(t);if(o.length>1)if(2===o.length&&""===o[0])(""===o[1]||""!==o[1].trim())&&-1===o[1].indexOf(" ")&&o[1].length<33&&(n=o[1]);else{var i=o[o.length-2],r=o.slice(-1).pop();" "===i.slice(-1)&&-1===r.indexOf(" ")&&(""===r||""!==r.trim())&&r.length<33&&(n=r)}return n},e.prototype.genHTML=function(e,t){var n=this;if(0!==e.length){var o=A(this.vditor.editor.element),i=o.left,r=o.top,s="";e.forEach(function(e,n){if(!(n>7)){var o=e.html;if(""!==t){var i=o.lastIndexOf(">")+1,r=o.substr(i),a=r.toLowerCase().indexOf(t.toLowerCase());a>-1&&(r=r.substring(0,a)+"<b>"+r.substring(a,a+t.length)+"</b>"+r.substring(a+t.length),o=o.substr(0,i)+r)}s+='<li data-value="'+e.value+' " class="'+(n||"vditor-hint--current")+'"> '+o+"</li>"}}),this.element.innerHTML=s,this.element.style.top=r+"px",this.element.style.left=i+"px",this.element.style.display="block",this.element.querySelectorAll("li").forEach(function(e){e.addEventListener("click",function(){n.fillEmoji(e)})}),this.element.getBoundingClientRect().bottom>window.innerHeight&&(this.element.style.top=r-this.element.offsetHeight+"px")}else this.element.style.display="none"},e}(),P=function(){function e(e){this.hintElement=e.hint&&e.hint.element,this.vditor=e,this.bindHotkey()}return e.prototype.processKeymap=function(e,t,n){var o=e.split("-"),i=3===o.length&&("shift"===o[1]||"⇧"===o[1]),r=i?o[2]:o[1];"ctrl"!==o[0]&&"⌘"!==o[0]||!t.metaKey&&!t.ctrlKey||t.key.toLowerCase()!==r.toLowerCase()||(!i&&!t.shiftKey||i&&t.shiftKey)&&(n(),t.preventDefault(),t.stopPropagation())},e.prototype.bindHotkey=function(){var e=this;this.vditor.editor.element.addEventListener("keypress",function(t){if(!t.metaKey&&!t.ctrlKey&&"enter"===t.key.toLowerCase()){var n=window.getSelection().getRangeAt(0);n.deleteContents();var o=!0,i=!1;if(3===n.endContainer.nodeType)for(var r=n.endContainer.nextSibling;r&&!i;)("BR"===r.nodeName||3===r.nodeType&&""!==r.textContent)&&(o=!1,i=!0),r=r.nextSibling;else for(var s=n.endOffset,a=n.endContainer.childNodes[s];a&&!i;)("BR"===a.nodeName||3===a.nodeType&&""!==a.textContent)&&(o=!1,i=!0),a=n.endContainer.childNodes[++s];var c="<br>";o&&(c="<br><br>");var l=document.createElement("div");l.innerHTML=c;for(var p=document.createDocumentFragment(),u=l.firstChild,h=u;u;)p.appendChild(u),u=l.firstChild;n.insertNode(p),function(e,t,n){n.setStartAfter(e),n.setEndAfter(t),d(n)}(h,h,n),C(e.vditor),t.preventDefault(),t.stopPropagation()}}),this.vditor.editor.element.addEventListener("keydown",function(t){if((t.metaKey||t.ctrlKey)&&e.vditor.options.ctrlEnter&&"enter"===t.key.toLowerCase()&&e.vditor.options.ctrlEnter(f(e.vditor.editor.element.innerText)),e.vditor.options.esc&&t.key.toLowerCase()==="Escape".toLowerCase()&&e.vditor.options.esc(f(e.vditor.editor.element.innerText)),(e.vditor.options.hint.at||e.vditor.toolbar.elements.emoji)&&e.hint(t),e.vditor.options.keymap.deleteLine&&e.processKeymap(e.vditor.options.keymap.deleteLine,t,function(){var e=window.getSelection().getRangeAt(0);3===e.startContainer.nodeType?e.setStartBefore(e.startContainer):e.setStartBefore(e.startContainer.childNodes[e.startOffset]),3===e.endContainer.nodeType&&e.endContainer.nextSibling?e.setEndAfter(e.endContainer.nextSibling):e.endOffset<=e.endContainer.childNodes.length-1&&e.setEndAfter(e.endContainer.childNodes[e.endOffset]);for(var t=!0,n=e.endOffset;e.endContainer.childNodes[n]&&t;)3===e.endContainer.childNodes[n].nodeType&&""!==e.endContainer.childNodes[n].textContent&&(t=!1),"BR"===e.endContainer.childNodes[n].nodeName&&(t=!1),n++;if(t){for(var o=e.startOffset-1;o>0&&3===e.startContainer.childNodes[o].nodeType&&""===e.startContainer.childNodes[o].textContent;)o--;o>0&&e.setStart(e.startContainer,o)}h("")}),e.vditor.options.keymap.duplicate&&e.processKeymap(e.vditor.options.keymap.duplicate,t,function(){var t=window.getSelection().getRangeAt(0),n="";t.collapsed?(t.setStart(t.startContainer,0),t.setEnd(t.endContainer,t.endContainer.textContent.length),n="\n"+c(t,e.vditor.editor.element)):n=c(t,e.vditor.editor.element),t.setStart(t.endContainer,t.endOffset),h(n)}),e.vditor.options.toolbar.forEach(function(n){n.hotkey&&e.processKeymap(n.hotkey,t,function(){e.vditor.toolbar.elements[n.name].children[0].click()})}),e.vditor.options.tab&&"tab"===t.key.toLowerCase()){var n=c(window.getSelection().getRangeAt(0),e.vditor.editor.element).split("\n").map(function(t){return e.vditor.options.tab+t});h(n.join("\n")),t.preventDefault(),t.stopPropagation()}})},e.prototype.hint=function(e){if(0!==this.hintElement.querySelectorAll("li").length&&"none"!==this.hintElement.style.display){var t=this.hintElement.querySelector(".vditor-hint--current");if("arrowdown"===e.key.toLowerCase())e.preventDefault(),e.stopPropagation(),t.nextElementSibling?t.nextElementSibling.className="vditor-hint--current":this.hintElement.children[0].className="vditor-hint--current",t.removeAttribute("class");else if("arrowup"===e.key.toLowerCase()){if(e.preventDefault(),e.stopPropagation(),t.previousElementSibling)t.previousElementSibling.className="vditor-hint--current";else{var n=this.hintElement.children.length;this.hintElement.children[n-1].className="vditor-hint--current"}t.removeAttribute("class")}else"enter"===e.key.toLowerCase()&&(e.preventDefault(),e.stopPropagation(),this.vditor.hint.fillEmoji(t))}},e}(),z=function(e,t,n,o){return new(n||(n=Promise))(function(i,r){function s(e){try{c(o.next(e))}catch(e){r(e)}}function a(e){try{c(o.throw(e))}catch(e){r(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}c((o=o.apply(e,t||[])).next())})},H=function(e,t){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},R=function(e){return void 0===e&&(e=document),z(void 0,void 0,void 0,function(){var t,o;return H(this,function(i){switch(i.label){case 0:return(t=e.querySelectorAll(".language-echarts")).length>0?[4,n.e("echarts").then(n.t.bind(null,"./node_modules/echarts/index.js",7))]:[3,2];case 1:o=i.sent().default,t.forEach(function(e){try{if("true"===e.getAttribute("data-processed"))return;var t=JSON.parse(e.innerHTML.trim());o.init(e).setOption(t),e.setAttribute("data-processed","true")}catch(t){e.className="hljs",e.innerHTML="echarts render error: <br>"+t}}),i.label=2;case 2:return[2]}})})},B=n("./src/assets/icons/copy.svg"),I=n.n(B),q=function(e,t){e.querySelectorAll("pre > code").forEach(function(n,o){if(!(n.className.indexOf("language-mermaid")>-1||n.className.indexOf("language-echarts")>-1||n.style.maxHeight.indexOf("px")>-1||e.className.indexOf("vditor-preview")>-1&&o>5)){var i=document.createElement("div");i.className="vditor-copy",i.innerHTML="<textarea>"+f(n.innerText)+'</textarea><span aria-label="'+k[t].copy+"\"\nonmouseover=\"this.setAttribute('aria-label', '"+k[t].copy+"')\"\nclass=\"vditor-tooltipped vditor-tooltipped__w\"\nonclick=\"this.previousElementSibling.select();document.execCommand('copy');this.setAttribute('aria-label', '"+k[t].copied+"')\">"+I.a+"</span>",n.before(i),n.style.maxHeight=window.outerHeight-40+"px"}})},F=function(e,t){if(!document.getElementById(t)){var n=document.createElement("link");n.id=t,n.setAttribute("rel","stylesheet"),n.setAttribute("type","text/css"),n.setAttribute("href",e),document.getElementsByTagName("head")[0].appendChild(n)}},D=function(e){var t=f(e.innerText);(t.split("$").length>2||t.split("\\(").length>1&&t.split("\\)").length>1)&&n.e("katex").then(n.t.bind(null,"./node_modules/katex/dist/katex.js",7)).then(function(){n.e("katex").then(n.bind(null,"./node_modules/katex/contrib/auto-render/auto-render.js")).then(function(t){F(r+"/vditor/dist/js/katex/katex.min.css","vditorKatexStyle"),t.default(e,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"\\(",right:"\\)",display:!1},{left:"$",right:"$",display:!1}]})})})},U=function(e){0!==e.querySelectorAll("code.language-mermaid").length&&n.e("mermaid").then(n.t.bind(null,"./node_modules/mermaid/dist/mermaid.core.js",7)).then(function(e){e.init({noteMargin:10},".language-mermaid")})},K=function(e){e.core.ruler.after("inline","github-task-lists",function(e){e.tokens.forEach(function(t,n){if("inline"===t.type&&(0===t.content.indexOf("[ ] ")||0===t.content.toLocaleLowerCase().indexOf("[x] "))&&"paragraph_open"===e.tokens[n-1].type&&"list_item_open"===e.tokens[n-2].type){var o=new e.Token("checkbox_input","input",0);o.attrs=[["type","checkbox"],["disabled","true"]],0===t.content.toLocaleLowerCase().indexOf("[x] ")&&o.attrs.push(["checked","true"]),t.children[0].content=t.children[0].content.slice(3),t.children.unshift(o),e.tokens[n-2].attrIndex("class")<0?e.tokens[n-2].attrPush(["class","vditor-task"]):e.tokens[n-2].attrs[n]=["class","vditor-task"]}})})},$=function(e,t,n,o){return new(n||(n=Promise))(function(i,r){function s(e){try{c(o.next(e))}catch(e){r(e)}}function a(e){try{c(o.throw(e))}catch(e){r(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}c((o=o.apply(e,t||[])).next())})},V=function(e,t){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},W=function(e,t){return $(void 0,void 0,void 0,function(){var o,i,s;return V(this,function(a){switch(a.label){case 0:return F(r+"/vditor/dist/js/highlight.js/styles/"+t+".css","vditorHljsStyle"),[4,n.e("markdown-it").then(n.t.bind(null,"./node_modules/markdown-it/index.js",7))];case 1:return o=a.sent().default,i={breaks:!0,html:!0,linkify:!0},[4,n.e("highlight.js").then(n.t.bind(null,"./node_modules/highlight.js/lib/index.js",7))];case 2:return s=a.sent().default,i.highlight=function(e,t){return"mermaid"===t||"echarts"===t?e:t&&s.getLanguage(t)?'<pre><code class="language-'+t+' hljs">'+s.highlight(t,e,!0).value+"</code></pre>":'<pre><code class="hljs">'+s.highlightAuto(e).value+"</code></pre>"},[2,new o(i).use(K).render(e)]}})})},J=function(e,t){return $(void 0,void 0,void 0,function(){var o,i,s;return V(this,function(a){switch(a.label){case 0:return e.options.preview.hljs.style&&F(r+"/vditor/dist/js/highlight.js/styles/"+e.options.preview.hljs.style+".css","vditorHljsStyle"),[4,n.e("markdown-it").then(n.t.bind(null,"./node_modules/markdown-it/index.js",7))];case 1:return o=a.sent().default,i={breaks:!0,html:!0,linkify:!0},t?[4,n.e("highlight.js").then(n.t.bind(null,"./node_modules/highlight.js/lib/index.js",7))]:[3,3];case 2:s=a.sent().default,i.highlight=function(e,t){return"mermaid"===t||"echarts"===t?e:t&&s.getLanguage(t)?'<pre><code class="language-'+t+' hljs">'+s.highlight(t,e,!0).value+"</code></pre>":'<pre><code class="hljs">'+s.highlightAuto(e).value+"</code></pre>"},a.label=3;case 3:return[2,new o(i).use(K)]}})})},X=function(e,t){return $(void 0,void 0,void 0,function(){var n;return V(this,function(o){switch(o.label){case 0:return void 0===e.markdownIt?[3,1]:[2,e.markdownIt.render(f(e.editor.element.innerText))];case 1:return n=e,[4,J(e,t)];case 2:return n.markdownIt=o.sent(),[2,e.markdownIt.render(f(e.editor.element.innerText))]}})})},G=function(){function e(e){this.element=document.createElement("div"),this.element.className="vditor-preview vditor-preview--"+e.options.preview.mode;var t=document.createElement("div");t.className=e.options.classes.preview?e.options.classes.preview:"vditor-reset",t.style.maxWidth=e.options.preview.maxWidth+"px",this.element.appendChild(t),this.render(e)}return e.prototype.render=function(e,t){var n=this;"vditor-preview vditor-preview--editor"!==this.element.className?t?this.element.children[0].innerHTML=t:""!==e.editor.element.innerText.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")?(clearTimeout(e.mdTimeoutId),e.mdTimeoutId=window.setTimeout(function(){var t=(new Date).getTime();if(e.options.preview.url){var o=new XMLHttpRequest;o.open("POST",e.options.preview.url),o.setRequestHeader("Content-Type","application/json;charset=UTF-8"),o.onreadystatechange=function(){if(o.readyState===XMLHttpRequest.DONE&&200===o.status){var i=JSON.parse(o.responseText);if(0!==i.code)return void alert(i.msg);n.element.children[0].innerHTML=i.data,n.afterRender(e,t)}},o.send(JSON.stringify({markdownText:f(e.editor.element.innerText)}))}else X(e,e.options.preview.hljs.enable).then(function(o){n.element.children[0].innerHTML=o,n.afterRender(e,t)})},e.options.preview.delay)):this.element.children[0].innerHTML="":e.upload&&"renderPerformance"===e.upload.element.getAttribute("data-type")&&e.tip.hide()},e.prototype.afterRender=function(e,t){e.options.preview.parse&&e.options.preview.parse(this.element),D(e.preview.element.children[0]),U(e.preview.element.children[0]),q(e.preview.element.children[0],e.options.lang),R(e.preview.element.children[0]);var n=(new Date).getTime()-t;(new Date).getTime()-t>2e3?(e.tip.show(k[e.options.lang].performanceTip.replace("${x}",n.toString())),e.upload.element.setAttribute("data-type","renderPerformance")):"renderPerformance"===e.upload.element.getAttribute("data-type")&&(e.tip.hide(),e.upload.element.removeAttribute("data-type"))},e}(),Y=n("./src/assets/icons/resize.svg"),Q=n.n(Y),Z=function(){function e(e){this.element=document.createElement("div"),this.element.className="vditor-resize",this.element.innerHTML=Q.a,this.bindEvent(e)}return e.prototype.bindEvent=function(e){this.element.addEventListener("mousedown",function(t){var n=document,o=document.getElementById(e.id),i=t.clientY,r=o.offsetHeight;n.ondragstart=function(){return!1},window.captureEvents&&window.captureEvents(),n.onmousemove=function(t){"top"===e.options.resize.position?o.style.height=Math.max(100,r+(i-t.clientY))+"px":o.style.height=Math.max(100,r+(t.clientY-i))+"px"},n.onmouseup=function(){e.options.resize.after&&e.options.resize.after(o.offsetHeight-r),window.captureEvents&&window.captureEvents(),n.onmousemove=null,n.onmouseup=null,n.ondragstart=null,n.onselectstart=null,n.onselect=null}})},e}(),ee=function(){function e(){this.element=document.createElement("div"),this.element.className="vditor-tip"}return e.prototype.show=function(e,t){var n=this;if(void 0===t&&(t=6e3),this.element.className="vditor-tip vditor-tip--show",0===t)return this.element.innerHTML='<div class="vditor-tip__content">'+e+'\n<div class="vditor-tip__close">X</div></div>',void this.element.querySelector(".vditor-tip__close").addEventListener("click",function(){n.hide()});this.element.innerHTML='<div class="vditor-tip__content">'+e+"</div>",setTimeout(function(){n.hide()},t)},e.prototype.hide=function(){this.element.className="vditor-tip",this.element.innerHTML=""},e}(),te=n("./src/assets/icons/bold.svg"),ne=n.n(te),oe=function(){function e(e,t){this.menuItem=t,this.vditor=e,this.element=document.createElement("div");var n=document.createElement("div");n.className="vditor-tooltipped vditor-tooltipped__"+t.tipPosition;var o=this.menuItem.hotkey?" <"+this.menuItem.hotkey+">":"";o=/Mac/.test(navigator.platform)?o.replace("ctrl","⌘"):o.replace("⌘","ctrl"),n.setAttribute("aria-label",this.menuItem.tip||k[e.options.lang][this.menuItem.name]+o),this.element.appendChild(n)}return e.prototype.bindEvent=function(e){var t=this;void 0===e&&(e=!1),this.element.children[0].addEventListener("click",function(){y(t.vditor,t.menuItem.prefix||"",t.menuItem.suffix||"",e,!0)})},e}(),ie=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),re=function(e){function t(t,n){var o=e.call(this,t,n)||this;return o.element.children[0].innerHTML=n.icon||ne.a,o.bindEvent(),o}return ie(t,e),t.prototype.bindEvent=function(){e.prototype.bindEvent.call(this)},t}(oe),se=n("./src/assets/icons/both.svg"),ae=n.n(se),ce=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),le=function(e){function t(t,n){var o=e.call(this,t,n)||this;return o.element.children[0].innerHTML=n.icon||ae.a,"both"===t.options.preview.mode&&(o.element.children[0].className="vditor-tooltipped vditor-tooltipped__"+n.tipPosition+" vditor-menu--current"),o._bindEvent(t,n),o}return ce(t,e),t.prototype._bindEvent=function(e,t){this.element.children[0].addEventListener("click",function(){var n,o=document.getElementById(e.id);"vditor-preview vditor-preview--both"===e.preview.element.className?(e.preview.element.className="vditor-preview vditor-preview--editor",n="vditor-tooltipped vditor-tooltipped__"+t.tipPosition):(e.preview.element.className="vditor-preview vditor-preview--both",n="vditor-tooltipped vditor-tooltipped__"+t.tipPosition+" vditor-menu--current",e.preview.render(e)),o.className.indexOf("vditor--fullscreen")>-1&&(n=n.replace("__n","__s")),this.className=n,e.toolbar.elements.preview&&e.toolbar.elements.preview.children[0].className.indexOf("vditor-menu--current")>-1&&(e.toolbar.elements.preview.children[0].className=e.toolbar.elements.preview.children[0].className.replace(" vditor-menu--current",""))})},t}(oe),de=function(){return function(){this.element=document.createElement("div"),this.element.className="vditor-menu__br"}}(),pe=n("./src/assets/icons/check.svg"),ue=n.n(pe),he=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),fe=function(e){function t(t,n){var o=e.call(this,t,n)||this;return o.element.children[0].innerHTML=n.icon||ue.a,o.bindEvent(),o}return he(t,e),t.prototype.bindEvent=function(){e.prototype.bindEvent.call(this)},t}(oe),ve=n("./src/assets/icons/code.svg"),me=n.n(ve),ge=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ye=function(e){function t(t,n){var o=e.call(this,t,n)||this;return o.element.children[0].innerHTML=n.icon||me.a,o.bindEvent(),o}return ge(t,e),t.prototype.bindEvent=function(){e.prototype.bindEvent.call(this)},t}(oe),we=function(){return function(){this.element=document.createElement("div"),this.element.className="vditor-menu__divider"}}(),be=n("./src/assets/icons/emoji.svg"),xe=n.n(be),_e=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ee=function(e){function t(t,n){var o=e.call(this,t,n)||this;o.element.children[0].innerHTML=n.icon||xe.a;var i=document.createElement("div");i.className="vditor-panel";var r='<span data-value="👍 " data-key="+1">👍</span>\n<span data-value="👎 " data-key="-1">👎</span>\n<span data-value="😰 " data-key="cold_sweat">😰</span>\n<span data-value="❤️ " data-key="heart">❤️</span>';Object.keys(t.options.hint.emoji).forEach(function(e){var n=t.options.hint.emoji[e];n.indexOf(".")>-1?r+='<span data-value=":'+e+': " data-key=":'+e+':"><img\ndata-value=":'+e+': " data-key=":'+e+':" src="'+n+'"/></span>':r+='<span data-value="'+n+' " data-key="'+e+'">'+n+"</span>"});var s='<div class="vditor-emojis__tail">\n    <span class="vditor-emojis__tip"></span><span>'+(t.options.hint.emojiTail||"")+"</span>\n</div>";return i.innerHTML='<div class="vditor-emojis" style="max-height: '+("auto"===t.options.height?"auto":t.options.height-80)+'px">'+r+"</div>"+s,o.element.appendChild(i),o._bindEvent(i,t),o}return _e(t,e),t.prototype._bindEvent=function(e,t){this.element.children[0].addEventListener("click",function(){"block"===e.style.display?e.style.display="none":(e.style.display="block",t.toolbar.elements.headings&&(t.toolbar.elements.headings.children[1].style.display="none"))}),e.querySelectorAll(".vditor-emojis span").forEach(function(n){n.addEventListener("click",function(n){y(t,n.target.getAttribute("data-value"),"",!0),e.style.display="none"}),n.addEventListener("mouseover",function(t){e.querySelector(".vditor-emojis__tip").innerHTML=t.target.getAttribute("data-key")})})},t}(oe),Oe=n("./src/assets/icons/contract.svg"),ke=n.n(Oe),Te=n("./src/assets/icons/fullscreen.svg"),Me=n.n(Te),Ce=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),je=function(e){function t(t,n){var o=e.call(this,t,n)||this;return o.element.children[0].innerHTML=n.icon||Me.a,o._bindEvent(t,n),o}return Ce(t,e),t.prototype._bindEvent=function(e,t){this.element.children[0].addEventListener("click",function(){var n=document.getElementById(e.id);n.className.indexOf("vditor--fullscreen")>-1?(this.innerHTML=t.icon||Me.a,n.className=n.className.replace(" vditor--fullscreen",""),Object.keys(e.toolbar.elements).forEach(function(t){var n=e.toolbar.elements[t].firstChild;n&&(n.className=n.className.replace("__s","__n"))})):(this.innerHTML=t.icon||ke.a,n.className=n.className+" vditor--fullscreen",Object.keys(e.toolbar.elements).forEach(function(t){var n=e.toolbar.elements[t].firstChild;n&&(n.className=n.className.replace("__n","__s"))}))})},t}(oe),Ne=n("./src/assets/icons/headings.svg"),Le=n.n(Ne),Ae=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Se=function(e){function t(t,n){var o=e.call(this,t,n)||this;o.element.children[0].innerHTML=n.icon||Le.a;var i=document.createElement("div");return i.className="vditor-panel",i.innerHTML='<h1 data-value="# ">Heading 1</h1>\n<h2 data-value="## ">Heading 2</h2>\n<h3 data-value="### ">Heading 3</h3>\n<h4 data-value="#### ">Heading 4</h4>\n<h5 data-value="##### ">Heading 5</h5>\n<h6 data-value="###### ">Heading 6</h6>',o.element.appendChild(i),o._bindEvent(i,t),o}return Ae(t,e),t.prototype._bindEvent=function(e,t){this.element.children[0].addEventListener("click",function(){"block"===e.style.display?e.style.display="none":(e.style.display="block",t.toolbar.elements.emoji&&(t.toolbar.elements.emoji.children[1].style.display="none"))});for(var n=0;n<6;n++)e.children.item(n).addEventListener("click",function(n){y(t,n.target.getAttribute("data-value"),"",!1,!0),e.style.display="none"})},t}(oe),Pe=n("./src/assets/icons/help.svg"),ze=n.n(Pe),He=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Re=function(e){function t(t,n){var o=e.call(this,t,n)||this;return o.element.children[0].innerHTML=n.icon||ze.a,o.bindEvent(),o}return He(t,e),t.prototype.bindEvent=function(){this.element.children[0].addEventListener("click",function(){window.open("https://hacpai.com/guide/markdown")})},t}(oe),Be=n("./src/assets/icons/info.svg"),Ie=n.n(Be),qe=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Fe=function(e){function t(t,n){var o=e.call(this,t,n)||this;return o.element.children[0].innerHTML=n.icon||Ie.a,o.bindEvent(),o}return qe(t,e),t.prototype.bindEvent=function(){this.element.children[0].addEventListener("click",function(){window.open("https://github.com/b3log/vditor")})},t}(oe),De=n("./src/assets/icons/inline-code.svg"),Ue=n.n(De),Ke=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),$e=function(e){function t(t,n){var o=e.call(this,t,n)||this;return o.element.children[0].innerHTML=n.icon||Ue.a,o.bindEvent(),o}return Ke(t,e),t.prototype.bindEvent=function(){e.prototype.bindEvent.call(this)},t}(oe),Ve=n("./src/assets/icons/italic.svg"),We=n.n(Ve),Je=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Xe=function(e){function t(t,n){var o=e.call(this,t,n)||this;return o.element.children[0].innerHTML=n.icon||We.a,o.bindEvent(),o}return Je(t,e),t.prototype.bindEvent=function(){e.prototype.bindEvent.call(this)},t}(oe),Ge=n("./src/assets/icons/line.svg"),Ye=n.n(Ge),Qe=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ze=function(e){function t(t,n){var o=e.call(this,t,n)||this;return o.element.children[0].innerHTML=n.icon||Ye.a,o.bindEvent(),o}return Qe(t,e),t.prototype.bindEvent=function(){e.prototype.bindEvent.call(this)},t}(oe),et=n("./src/assets/icons/link.svg"),tt=n.n(et),nt=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ot=function(e){function t(t,n){var o=e.call(this,t,n)||this;return o.element.children[0].innerHTML=n.icon||tt.a,o.bindEvent(),o}return nt(t,e),t.prototype.bindEvent=function(){e.prototype.bindEvent.call(this)},t}(oe),it=n("./src/assets/icons/list.svg"),rt=n.n(it),st=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),at=function(e){function t(t,n){var o=e.call(this,t,n)||this;return o.element.children[0].innerHTML=n.icon||rt.a,o.bindEvent(),o}return st(t,e),t.prototype.bindEvent=function(){e.prototype.bindEvent.call(this)},t}(oe),ct=n("./src/assets/icons/ordered-list.svg"),lt=n.n(ct),dt=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),pt=function(e){function t(t,n){var o=e.call(this,t,n)||this;return o.element.children[0].innerHTML=n.icon||lt.a,o.bindEvent(),o}return dt(t,e),t.prototype.bindEvent=function(){e.prototype.bindEvent.call(this)},t}(oe),ut=n("./src/assets/icons/preview.svg"),ht=n.n(ut),ft=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),vt=function(e){function t(t,n){var o=e.call(this,t,n)||this;return o.element.children[0].innerHTML=n.icon||ht.a,"preview"===t.options.preview.mode&&(o.element.children[0].className="vditor-tooltipped vditor-tooltipped__"+n.tipPosition+" vditor-menu--current"),o._bindEvent(t,n),o}return ft(t,e),t.prototype._bindEvent=function(e,t){this.element.children[0].addEventListener("click",function(){var n,o=document.getElementById(e.id);"vditor-preview vditor-preview--preview"===e.preview.element.className?(e.preview.element.className="vditor-preview vditor-preview--editor",n="vditor-tooltipped vditor-tooltipped__"+t.tipPosition):(e.preview.element.className="vditor-preview vditor-preview--preview",n="vditor-tooltipped vditor-tooltipped__"+t.tipPosition+" vditor-menu--current",e.preview.render(e)),o.className.indexOf("vditor--fullscreen")>-1&&(n=n.replace("__n","__s")),this.className=n,e.toolbar.elements.both&&e.toolbar.elements.both.children[0].className.indexOf("vditor-menu--current")>-1&&(e.toolbar.elements.both.children[0].className=e.toolbar.elements.both.children[0].className.replace(" vditor-menu--current",""))})},t}(oe),mt=n("./src/assets/icons/quote.svg"),gt=n.n(mt),yt=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),wt=function(e){function t(t,n){var o=e.call(this,t,n)||this;return o.element.children[0].innerHTML=n.icon||gt.a,o.bindEvent(),o}return yt(t,e),t.prototype.bindEvent=function(){e.prototype.bindEvent.call(this)},t}(oe),bt=n("./src/assets/icons/record.svg"),xt=n.n(bt),_t=function(){function e(e){var t;if(this.SAMPLE_RATE=5e3,this.isRecording=!1,this.readyFlag=!1,this.leftChannel=[],this.rightChannel=[],this.recordingLength=0,"undefined"!=typeof AudioContext)t=new AudioContext;else{if(!webkitAudioContext)return;t=new webkitAudioContext}this.DEFAULT_SAMPLE_RATE=t.sampleRate;var n=t.createGain();t.createMediaStreamSource(e).connect(n),this.recorder=t.createScriptProcessor(2048,2,1),this.recorder.onaudioprocess=null,n.connect(this.recorder),this.recorder.connect(t.destination),this.readyFlag=!0}return e.prototype.cloneChannelData=function(e,t){this.leftChannel.push(new Float32Array(e)),this.rightChannel.push(new Float32Array(t)),this.recordingLength+=2048},e.prototype.startRecordingNewWavFile=function(){this.readyFlag&&(this.isRecording=!0,this.leftChannel.length=this.rightChannel.length=0,this.recordingLength=0)},e.prototype.stopRecording=function(){this.isRecording=!1},e.prototype.buildWavFileBlob=function(){for(var e=this.mergeBuffers(this.leftChannel),t=this.mergeBuffers(this.rightChannel),n=new Float32Array(e.length),o=0;o<e.length;++o)n[o]=.5*(e[o]+t[o]);this.DEFAULT_SAMPLE_RATE>this.SAMPLE_RATE&&(n=this.downSampleBuffer(n,this.SAMPLE_RATE));var i=44+2*n.length,r=new ArrayBuffer(i),s=new DataView(r);this.writeUTFBytes(s,0,"RIFF"),s.setUint32(4,i,!0),this.writeUTFBytes(s,8,"WAVE"),this.writeUTFBytes(s,12,"fmt "),s.setUint32(16,16,!0),s.setUint16(20,1,!0),s.setUint16(22,1,!0),s.setUint32(24,this.SAMPLE_RATE,!0),s.setUint32(28,2*this.SAMPLE_RATE,!0),s.setUint16(32,2,!0),s.setUint16(34,16,!0);var a=2*n.length;this.writeUTFBytes(s,36,"data"),s.setUint32(40,a,!0);for(var c=n.length,l=44,d=0;d<c;d++)s.setInt16(l,32767*n[d],!0),l+=2;return new Blob([s],{type:"audio/wav"})},e.prototype.downSampleBuffer=function(e,t){if(t===this.DEFAULT_SAMPLE_RATE)return e;if(t>this.DEFAULT_SAMPLE_RATE)return e;for(var n=this.DEFAULT_SAMPLE_RATE/t,o=Math.round(e.length/n),i=new Float32Array(o),r=0,s=0;r<i.length;){for(var a=Math.round((r+1)*n),c=0,l=0,d=s;d<a&&d<e.length;d++)c+=e[d],l++;i[r]=c/l,r++,s=a}return i},e.prototype.mergeBuffers=function(e){for(var t=new Float32Array(this.recordingLength),n=0,o=e.length,i=0;i<o;++i){var r=e[i];t.set(r,n),n+=r.length}return t},e.prototype.writeUTFBytes=function(e,t,n){for(var o=n.length,i=0;i<o;i++)e.setUint8(t+i,n.charCodeAt(i))},e}(),Et=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ot=function(e){function t(t,n){var o=e.call(this,t,n)||this;return o.element.children[0].innerHTML=n.icon||xt.a,o._bindEvent(t),o}return Et(t,e),t.prototype._bindEvent=function(e){var t;this.element.children[0].addEventListener("click",function(){if(t)if(t.isRecording){t.stopRecording(),e.tip.hide();var n=new File([t.buildWavFileBlob()],"record"+(new Date).getTime()+".wav",{type:"video/webm"});M(e,[n])}else e.tip.show(k[e.options.lang].recording),e.editor.element.setAttribute("contenteditable","false"),t.startRecordingNewWavFile();else navigator.mediaDevices.getUserMedia({audio:!0}).then(function(n){(t=new _t(n)).recorder.onaudioprocess=function(e){if(t.isRecording){var n=e.inputBuffer.getChannelData(0),o=e.inputBuffer.getChannelData(1);t.cloneChannelData(n,o)}},t.startRecordingNewWavFile(),e.tip.show(k[e.options.lang].recording),e.editor.element.setAttribute("contenteditable","false")}).catch(function(e){console.error("init media error:",e)})})},t}(oe),kt=n("./src/assets/icons/redo.svg"),Tt=n.n(kt),Mt=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ct=function(e){function t(t,n){var o=e.call(this,t,n)||this;return o.element.children[0].innerHTML=n.icon||Tt.a,o.bindEvent(),o}return Mt(t,e),t.prototype.bindEvent=function(){this.element.children[0].addEventListener("click",function(){document.execCommand("redo")})},t}(oe),jt=n("./src/assets/icons/strike.svg"),Nt=n.n(jt),Lt=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),At=function(e){function t(t,n){var o=e.call(this,t,n)||this;return o.element.children[0].innerHTML=n.icon||Nt.a,o.bindEvent(),o}return Lt(t,e),t.prototype.bindEvent=function(){e.prototype.bindEvent.call(this)},t}(oe),St=n("./src/assets/icons/table.svg"),Pt=n.n(St),zt=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ht=function(e){function t(t,n){var o=e.call(this,t,n)||this;return o.element.children[0].innerHTML=n.icon||Pt.a,o.bindEvent(),o}return zt(t,e),t.prototype.bindEvent=function(){e.prototype.bindEvent.call(this,!0)},t}(oe),Rt=n("./src/assets/icons/undo.svg"),Bt=n.n(Rt),It=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),qt=function(e){function t(t,n){var o=e.call(this,t,n)||this;return o.element.children[0].innerHTML=n.icon||Bt.a,o.bindEvent(),o}return It(t,e),t.prototype.bindEvent=function(){this.element.children[0].addEventListener("click",function(){document.execCommand("undo")})},t}(oe),Ft=n("./src/assets/icons/upload.svg"),Dt=n.n(Ft),Ut=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Kt=function(e){function t(t,n){var o=e.call(this,t,n)||this,i='<input multiple="multiple" type="file"></label>';return t.options.upload.accept&&(i='<input multiple="multiple" type="file" accept="'+t.options.upload.accept+'"></label>'),o.element.children[0].innerHTML="<label>"+(n.icon||Dt.a)+i+"</label>",o._bindEvent(t),o}return Ut(t,e),t.prototype._bindEvent=function(e){this.element.querySelector("input").addEventListener("change",function(t){0!==t.target.files.length&&M(e,t.target.files,t.target)})},t}(oe),$t=function(){return function(e){var t=this,n=e.options;this.elements={},n.toolbar.forEach(function(n,o){var i;switch(n.name){case"emoji":i=new Ee(e,n);break;case"bold":i=new re(e,n);break;case"headings":i=new Se(e,n);break;case"|":i=new we;break;case"br":i=new de;break;case"italic":i=new Xe(e,n);break;case"strike":i=new At(e,n);break;case"line":i=new Ze(e,n);break;case"quote":i=new wt(e,n);break;case"list":i=new at(e,n);break;case"ordered-list":i=new pt(e,n);break;case"check":i=new fe(e,n);break;case"undo":i=new qt(e,n);break;case"redo":i=new Ct(e,n);break;case"code":i=new ye(e,n);break;case"inline-code":i=new $e(e,n);break;case"link":i=new ot(e,n);break;case"help":i=new Re(e,n);break;case"table":i=new Ht(e,n);break;case"both":i=new le(e,n);break;case"preview":i=new vt(e,n);break;case"fullscreen":i=new je(e,n);break;case"upload":i=new Kt(e,n);break;case"record":i=new Ot(e,n);break;case"info":i=new Fe(e,n);break;default:console.error("menu item no matched")}var r=n.name;"br"!==r&&"|"!==r||(r+=o),t.elements[r]=i.element})}}(),Vt=function(){return function(e){var t=document.getElementById(e.id);t.innerHTML="",t.className="vditor"+(t.className?" "+t.className:""),"number"==typeof e.options.height&&(t.style.height=e.options.height+"px"),"number"==typeof e.options.width?t.style.width=e.options.width+"px":t.style.width=e.options.width;var n=document.createElement("div");n.className="vditor-toolbar",Object.keys(e.toolbar.elements).forEach(function(t){n.appendChild(e.toolbar.elements[t])}),t.appendChild(n),e.options.resize.enable&&"top"===e.options.resize.position&&t.appendChild(e.resize.element);var o=document.createElement("div");o.className="vditor-content",o.appendChild(e.editor.element),e.preview&&o.appendChild(e.preview.element),e.options.counter>0&&o.appendChild(e.counter.element),e.upload&&o.appendChild(e.upload.element),o.appendChild(e.tip.element),t.appendChild(o),e.options.resize.enable&&"bottom"===e.options.resize.position&&t.appendChild(e.resize.element),document.onclick=function(e){var t=e.target.closest(".vditor-tooltipped");t&&t.nextSibling&&"vditor-panel"===t.nextSibling.className||(document.querySelectorAll(".vditor-hint").forEach(function(e){e.style.display="none"}),document.querySelectorAll(".vditor-panel").forEach(function(e){e.style.display="none"}))}}}(),Wt=function(){function e(e){this.defaultOptions={cache:!0,classes:{preview:""},counter:0,height:"auto",hint:{delay:200,emoji:{"+1":"👍","-1":"👎",cold_sweat:"😰",heart:"❤️"},emojiPath:r+"/vditor/dist/images/emoji"},keymap:{deleteLine:"⌘-Backspace",duplicate:"⌘-d"},lang:"zh_CN",placeholder:"",preview:{delay:1e3,hljs:{enable:!0,style:"atom-one-light"},maxWidth:768,mode:"both"},resize:{enable:!1,position:"bottom"},toolbar:[{hotkey:"⌘-e",name:"emoji",tipPosition:"ne"},{hotkey:"⌘-h",name:"headings",tipPosition:"ne"},{hotkey:"⌘-b",name:"bold",prefix:"**",suffix:"**",tipPosition:"ne"},{hotkey:"⌘-i",name:"italic",prefix:"*",suffix:"*",tipPosition:"ne"},{hotkey:"⌘-s",name:"strike",prefix:"~~",suffix:"~~",tipPosition:"ne"},{name:"|"},{hotkey:"⌘-⇧-d",name:"line",prefix:"---",tipPosition:"n"},{hotkey:"⌘-.",name:"quote",prefix:"> ",tipPosition:"n"},{name:"|"},{hotkey:"⌘-l",name:"list",prefix:"* ",tipPosition:"n"},{hotkey:"⌘-o",name:"ordered-list",prefix:"1. ",tipPosition:"n"},{hotkey:"⌘-j",name:"check",prefix:"* [ ] ",tipPosition:"n"},{name:"|"},{hotkey:"⌘-u",name:"code",prefix:"```\n",suffix:"\n```",tipPosition:"n"},{hotkey:"⌘-g",name:"inline-code",prefix:"`",suffix:"`",tipPosition:"n"},{name:"|"},{hotkey:"⌘-z",name:"undo",tipPosition:"n"},{hotkey:"⌘-y",name:"redo",tipPosition:"n"},{name:"|"},{name:"upload",tipPosition:"n"},{hotkey:"⌘-k",name:"link",prefix:"[",suffix:"](https://)",tipPosition:"n"},{hotkey:"⌘-m",name:"table",prefix:"| col1",suffix:" | col2 | col3 |\n| --- | --- | --- |\n|  |  |  |\n|  |  |  |",tipPosition:"n"},{name:"record",tipPosition:"n"},{name:"|"},{hotkey:"⌘-p",name:"both",tipPosition:"nw"},{hotkey:"⌘-⇧-p",name:"preview",tipPosition:"nw"},{hotkey:"⌘-'",name:"fullscreen",tipPosition:"nw"},{name:"info",tipPosition:"nw"},{name:"help",tipPosition:"nw"},{name:"br"}],upload:{filename:function(e){return e.replace(/\W/g,"")},linkToImgUrl:"",max:10485760,url:""},width:"auto"},this.options=e}return e.prototype.merge=function(){var e=this,t=[];this.options&&(this.options.toolbar&&this.options.toolbar.forEach(function(n){var o;e.defaultOptions.toolbar.forEach(function(e){"string"==typeof n&&e.name===n&&(o=e),"object"==typeof n&&e.name===n.name&&(o=Object.assign({},e,n))}),t.push(o)}),this.options.upload&&(this.options.upload=Object.assign({},this.defaultOptions.upload,this.options.upload)),this.options.classes&&(this.options.classes=Object.assign({},this.defaultOptions.classes,this.options.classes)),this.options.keymap&&(this.options.keymap=Object.assign({},this.defaultOptions.keymap,this.options.keymap)),this.options.preview&&(this.options.preview.hljs?this.options.preview.hljs=Object.assign({},this.defaultOptions.preview.hljs,this.options.preview.hljs):this.options.preview.hljs=Object.assign({},this.defaultOptions.preview.hljs),this.options.preview=Object.assign({},this.defaultOptions.preview,this.options.preview)),this.options.hint&&(this.options.hint=Object.assign({},this.defaultOptions.hint,this.options.hint)),this.options.resize&&(this.options.resize=Object.assign({},this.defaultOptions.resize,this.options.resize)));var n=Object.assign({},this.defaultOptions,this.options);return t.length>0&&(n.toolbar=t),n},e}(),Jt=function(){function e(e,t){this.version=i;var n=new Wt(t).merge();if(this.vditor={id:e,mdTimeoutId:-1,options:n,originalInnerHTML:document.getElementById(e).innerHTML,tip:new ee},n.counter>0){var o=new s(this.vditor);this.vditor.counter=o}var r=new L(this.vditor);if(this.vditor.editor=r,n.resize.enable){var a=new Z(this.vditor);this.vditor.resize=a}if(n.toolbar){var c=new $t(this.vditor);this.vditor.toolbar=c}if(this.vditor.toolbar.elements.preview){var l=new G(this.vditor);this.vditor.preview=l}if(n.upload.url||n.upload.handler){var d=new T;this.vditor.upload=d}new Vt(this.vditor);if(this.vditor.options.hint.at||this.vditor.toolbar.elements.emoji){var p=new S(this.vditor);this.vditor.hint=p}new P(this.vditor)}return e.prototype.getValue=function(){return f(this.vditor.editor.element.innerText)},e.prototype.insertValue=function(e){y(this.vditor,e,"")},e.prototype.focus=function(){this.vditor.editor.element.focus()},e.prototype.blur=function(){this.vditor.editor.element.blur()},e.prototype.disabled=function(){this.vditor.editor.element.setAttribute("contenteditable","false")},e.prototype.enable=function(){this.vditor.editor.element.setAttribute("contenteditable","true")},e.prototype.setSelection=function(e,t){var n=function(e,t,n){var o=l(n.childNodes,e),i=l(n.childNodes,t),r=document.createRange();return r.setStart(o.node,o.offset),r.setEnd(i.node,i.offset),d(r),r}(e,t,this.vditor.editor.element);this.vditor.options.select&&this.vditor.options.select(c(n,this.vditor.editor.element))},e.prototype.getSelection=function(){var e="";return 0!==window.getSelection().rangeCount&&(e=c(window.getSelection().getRangeAt(0),this.vditor.editor.element)),e},e.prototype.setValue=function(e){var t,n;t=this.vditor.editor.element,(n=document.createRange()).selectNodeContents(t),d(n),h(e),e||localStorage.removeItem("vditor"+this.vditor.id)},e.prototype.renderPreview=function(e){this.vditor.preview.render(this.vditor,e)},e.prototype.getCursorPosition=function(){return A(this.vditor.editor.element)},e.prototype.deleteValue=function(){y(this.vditor,"","",!0)},e.prototype.updateValue=function(e){y(this.vditor,e,"",!0)},e.prototype.isUploading=function(){return this.vditor.upload.isUploading},e.prototype.clearCache=function(){localStorage.removeItem("vditor"+this.vditor.id)},e.prototype.disabledCache=function(){this.vditor.options.cache=!1},e.prototype.enableCache=function(){this.vditor.options.cache=!0},e.prototype.html2md=function(e){return O(this.vditor,e)},e.prototype.getHTML=function(e){return X(this.vditor,e)},e.prototype.tip=function(e,t){this.vditor.tip.show(e,t)},e.mathRender=D,e.mermaidRender=U,e.codeRender=q,e.chartRender=R,e.md2html=W,e}();t.default=Jt}}).default});